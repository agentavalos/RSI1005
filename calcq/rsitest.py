import pandas as pd
import numpy as np

# Sample data
data = [
    ["1/19/2020", 8941.445313, 9164.362305, 8620.080078, 8706.245117],
    ["1/20/2020", 8704.631836, 8745.59082, 8560.473633, 8657.642578],
    ["1/21/2020", 8658.991211, 8755.706055, 8544.520508, 8745.894531],
    ["1/22/2020", 8744.210938, 8792.994141, 8636.74707, 8680.875977],
    ["1/23/2020", 8680.650391, 8687.74707, 8333.637695, 8406.515625],
    ["1/24/2020", 8405.567383, 8514.666992, 8266.84082, 8445.43457],
    ["1/25/2020", 8440.119141, 8458.453125, 8296.21875, 8367.847656],
    ["1/26/2020", 8364.410156, 8602.401367, 8325.498047, 8596.830078],
    ["1/27/2020", 8597.308594, 8977.726563, 8597.308594, 8909.819336],
    ["1/28/2020", 8912.524414, 9358.589844, 8908.447266, 9358.589844],
    ["1/29/2020", 9357.470703, 9406.431641, 9269.467773, 9316.629883],
    ["1/30/2020", 9316.016602, 9553.125977, 9230.897461, 9508.993164],
    ["1/31/2020", 9508.313477, 9521.706055, 9230.776367, 9350.529297],
    ["2/1/2020", 9346.357422, 9439.323242, 9313.239258, 9392.875],
    ["2/2/2020", 9389.820313, 9468.797852, 9217.824219, 9344.365234],
    ["2/3/2020", 9344.683594, 9540.37207, 9248.633789, 9293.521484],
    ["2/4/2020", 9292.841797, 9331.265625, 9112.811523, 9180.962891],
    ["2/5/2020", 9183.416016, 9701.299805, 9163.704102, 9613.423828],
    ["2/6/2020", 9617.821289, 9824.619141, 9539.818359, 9729.801758]
]

# Create a DataFrame
df = pd.DataFrame(data, columns=["Date", "Open", "High", "Low", "Close"])

# Calculate Price Change
df["Price Change"] = df["Close"].diff()

# Split into Gain and Loss
df["Gain"] = df["Price Change"].apply(lambda x: max(x, 0))
df["Loss"] = df["Price Change"].apply(lambda x: max(-x, 0))

# Calculate AG and AL for the first 14 days
df["AG"] = df["Gain"].rolling(window=14).mean()
df["AL"] = df["Loss"].rolling(window=14).mean()

# Calculate RS for the first 14 days
df["RS"] = df["AG"] / df["AL"]

# Calculate RSI for the first 14 days
df["RSI"] = 100 - (100 / (1 + df["RS"]))

# Print the RSI values for all dates
print(df[["Date", "RSI"]])
